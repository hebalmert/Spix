<div class="row">
    <div class="col-md-12">
        <div class="camera-container">
            <!-- Cámara -->
            <div class="camera-layer" style="@(ShowCamera ? "display:block;" : "display:none;")">
                <video id="camera" autoplay playsinline class="w-100 h-100" />
            </div>

            <!-- Imagen desde parámetro ImageUrl -->
            <div class="camera-layer" style="@(string.IsNullOrWhiteSpace(ImageBase64) && ShowImageUrl && !string.IsNullOrWhiteSpace(ImageUrl) ? "display:block;" : "display:none;")">
                <img src="@ImageUrl" alt="@Label" class="w-100 h-100 image-preview" />
            </div>

            <!-- Preview (base64) -->
            <div class="camera-layer" style="@(ShowPreview && !string.IsNullOrWhiteSpace(ImageBase64) ? "display:block;" : "display:none;")">
                <img src="data:image/jpeg;base64,@ImageBase64" alt="@Label" class="w-100 h-100 image-preview" />
            </div>
        </div>

        <div class="camera-actions mt-2 d-flex flex-row justify-content-center gap-2">
            @if (ShowCamera)
            {
                <button type="button" class="btn btn-outline-primary btn-sm" style="min-width:90px; height:28px; padding:2px 8px;" @onclick="CaptureImage">@Localizer[nameof(Resource.Button_Capture)]</button>
            }
            else
            {
                <button type="button" class="btn btn-outline-primary btn-sm" style="min-width:90px; height:28px; padding:2px 8px;" @onclick="ToggleCamera">@Localizer[nameof(Resource.Button_Camara)]</button>
            }

            <button type="button" class="btn btn-outline-secondary btn-sm" style="min-width:90px; height:28px; padding:2px 8px;" @onclick="LoadFromFile">@Localizer[nameof(Resource.Button_Disk)]</button>
            <input type="file" id="fileInput" accept="image/*" style="display:none" />
        </div>
    </div>
</div>
